:root{
  --bg-base:#eaf4ef; --bg-yellow:#f6e4b5; --bg-mint:#cfeee0;
  --card:#fbf3da; --card-line:#efe6cd;
  --text:#1f2a33; --muted:#6f7d8c;
  --brand:#2e7d57; --btn-shadow:rgba(46,125,87,.26);
  --accent:#4caf7d;
}

/* 스크롤바 공간을 항상 확보해 레이아웃 흔들림 방지 */
html{
  overflow-y:scroll;
  scrollbar-gutter:stable;
}

/* 공통 상단바 여백 */
body{
  padding-top:96px;
}

/* 공통 레이아웃 컨테이너(각 페이지 카드 바깥) */
.container{
  width:calc(100% - 40px);
  margin:0 auto;
  background:var(--card); border:1px solid var(--card-line);
  border-radius:26px; box-shadow:0 16px 40px rgba(0,0,0,.10);
  padding:28px 24px 32px; height:auto; overflow-wrap:break-word;
}


/* ===== 상단바 ===== */
.topbar{
  position:fixed; top:0; left:0; right:0; height:64px;
  background:#fff; z-index:1000;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; box-shadow:0 2px 10px rgba(0,0,0,.08);
}
.topbar .logo, .topbar .logo-area{ display:flex; align-items:center; gap:10px; }
.topbar .logo img, .topbar .logo-area img{
  height:44px; width:auto; object-fit:contain; display:block; cursor:pointer;
}
.topbar .menu, .topbar .menu-area{ display:flex; gap:8px; }
.topbar .menu-area button{
  border:1px solid #dcdfe4; background:#fff; color:#1f2a33;
  border-radius:999px; padding:8px 16px; font-size:14px; cursor:pointer;
  box-shadow:0 6px 14px rgba(0,0,0,.06); transition:.18s;
}
.topbar .menu button,
.topbar .menu-area button{
  border:1px solid #dcdfe4; background:#fff; color:#1f2a33;
  border-radius:999px; padding:8px 14px; font-size:14px; cursor:pointer;
  box-shadow:0 6px 14px rgba(0,0,0,.06); transition:.18s;
  white-space:nowrap; flex-shrink:0;
}
.topbar .menu button:hover,
.topbar .menu-area button:hover{
  background:var(--brand); color:#fff; border-color:var(--brand);
}
.topbar .menu button.active,
.topbar .menu-area button.active{
  background:var(--accent,#4caf7d); color:#fff; border-color:var(--accent);
  box-shadow:0 8px 18px var(--btn-shadow);
}
.topbar .right-tools{ display:flex; align-items:center; gap:8px; }
.topbar .right-tools .mode-btn.is-edit{
  background:var(--brand); color:#fff; border-color:var(--brand);
}


/* 조회용 모드 토글(교사용만 사용) */
.topbar .right-tools .mode-btn{
  font-size:12px; padding:6px 10px; line-height:1.2;
  border-radius:999px; border:1px solid var(--brand);
  background:var(--bg-base); color:var(--brand); cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,.06);
  white-space:nowrap; flex-shrink:0;
}
.topbar .right-tools .mode-btn.is-edit{ background:var(--brand); color:#fff; border-color:var(--brand); }


/* 공통 프라이머리 버튼 */
.btn-primary{
  color:#fff; background:var(--brand); border:1px solid var(--brand);
  box-shadow:0 12px 28px var(--btn-shadow); border-radius:14px; padding:10px 14px;
}


/* ===== Event strip (공통) ===== */
.event-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap:8px; margin:0 0 10px;
}
.event-card{
  display:flex; align-items:flex-start; gap:8px;
  background:#fff;
  border:1px solid #e5e5e5;
  border-radius:14px;
  padding:10px 12px;
  min-height:44px;
  box-shadow:0 2px 6px rgba(0,0,0,.04);
  cursor:pointer;
}
.event-card:hover{ box-shadow:0 4px 10px rgba(0,0,0,.06); }
.event-icon{ font-size:16px; line-height:1.2; margin-top:1px; }
.event-body{ min-width:0; }
.event-title{
  font-weight:700; font-size:14px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.event-desc{
  margin-top:2px; font-size:12px; color:#667085;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

.task-box.done{
  background: transparent !important;
  color: #9aa6b2 !important;
  border-color: #dcdfe4 !important;
  text-decoration: line-through;
}

/* 미룸 상태 */
.task-box.postponed{
  background:#fddf7f;
  border-color:#f0c24c;
  color:#000;
}

/* 배지 */
.tag{
  display:inline-block;
  padding:2px 6px;
  font-size:11px;
  border-radius:6px;
  margin-right:6px;
  vertical-align:middle;
}
.tag-exempt{    background:#eef2f6; color:#586172; }
.tag-postpone{  background:#ffe7b3; color:#8a5d00; }

/* 상태별 칩 색 (기존 .missed 있음) */
.student-chip.postponed{
  background:#fddf7f;
  border-color:#f0c24c;
  color:#604400;
}
.student-chip.exempt{
  background:#E5E7EB;
  border-color:#D1D5DB;
  color:#374151;
}
